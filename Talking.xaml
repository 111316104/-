<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             BackgroundImageSource="background.png"
             x:Class="PD_app.Talking"
             NavigationPage.HasNavigationBar="False">

    <AbsoluteLayout>

        <!-- Scrollable ä¸»å…§å®¹ -->
        <ScrollView AbsoluteLayout.LayoutBounds="0,0,1,1" AbsoluteLayout.LayoutFlags="All">
            <VerticalStackLayout>
                <Label Text="AI èŠå¤©å®¤" FontSize="32" HorizontalOptions="Center" />

                <AbsoluteLayout WidthRequest="500" HeightRequest="500" BackgroundColor="Transparent">
                    <!--<Image x:Name="AnimatedImage"
                       WidthRequest="500"
                       HeightRequest="500"
                       Aspect="AspectFit"
                       AbsoluteLayout.LayoutBounds="0,0,1,1"
                       AbsoluteLayout.LayoutFlags="All" />-->

                    <Image x:Name="AnimatedImage"
                       HorizontalOptions="FillAndExpand"
                       VerticalOptions="FillAndExpand"
                       HeightRequest="650"
                       Aspect="AspectFit"
                       AbsoluteLayout.LayoutBounds="0.5,0.65,AutoSize,AutoSize"
                       AbsoluteLayout.LayoutFlags="PositionProportional" />


                    <Frame  
                        x:Name="FloatingDialog"
                        CornerRadius="10"
                        BackgroundColor="White"
                        BorderColor="Black"
                        HasShadow="True"
                        AbsoluteLayout.LayoutBounds="0.5,1.0,-1,-1"
                        AbsoluteLayout.LayoutFlags="PositionProportional">
                        <ScrollView x:Name="ChatScrollView" WidthRequest="300" HeightRequest="200">
                            <VerticalStackLayout x:Name="ChatContainer" Spacing="5">
                                <Label x:Name="DialogText" Text="é€™æ˜¯è§’è‰²çš„å°è©±" TextColor="Black" />
                                <Label x:Name="ChatHistory" TextColor="Black" FontSize="12" />
                            </VerticalStackLayout>
                        </ScrollView>
                    </Frame>
                </AbsoluteLayout>

                <!-- æç¤ºå€å¡Šï¼ˆé€æ˜Žæ©¢åœ“èƒŒæ™¯ï¼Œå¯å·¦å³æ»‘å‹•ï¼‰-->
                <Frame
                    AbsoluteLayout.LayoutBounds="0.5,1,0.9,AutoSize"
                    AbsoluteLayout.LayoutFlags="PositionProportional,WidthProportional"
                    BackgroundColor="#60FFFFFF"
                    Padding="10"
                    HasShadow="False">

                    <!-- â­ ç”¨ ScrollView é–‹å•Ÿæ°´å¹³æ»‘å‹• -->
                    <ScrollView Orientation="Horizontal">

                        <HorizontalStackLayout Spacing="10">

                            <!-- ===== æŒ‰éˆ• 1 ===== -->
                            <Button x:Name="HintBtn1"
                                    Text="ä»€éº¼æ˜¯è…¹è†œé€æž"
                                    Clicked="OnHintClicked"
                                    BackgroundColor="#A18276"
                                    TextColor="White">

                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroupList>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal">
                                                <VisualState.Setters>
                                                    <Setter Property="Opacity" Value="1" />
                                                    <Setter Property="BackgroundColor" Value="#A18276" />
                                                </VisualState.Setters>
                                            </VisualState>

                                            <VisualState x:Name="Disabled">
                                                <VisualState.Setters>
                                                    <Setter Property="Opacity" Value="0.4" />
                                                    <Setter Property="BackgroundColor" Value="#C0C0C0" />
                                                </VisualState.Setters>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateGroupList>
                                </VisualStateManager.VisualStateGroups>

                            </Button>

                            <!-- ===== æŒ‰éˆ• 2 ===== -->
                            <Button x:Name="HintBtn2"
                                    Text="é€æžå‰æº–å‚™"
                                    Clicked="OnHintClicked"
                                    BackgroundColor="#A18276"
                                    TextColor="White">

                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroupList>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal">
                                                <VisualState.Setters>
                                                    <Setter Property="Opacity" Value="1" />
                                                    <Setter Property="BackgroundColor" Value="#A18276" />
                                                </VisualState.Setters>
                                            </VisualState>

                                            <VisualState x:Name="Disabled">
                                                <VisualState.Setters>
                                                    <Setter Property="Opacity" Value="0.4" />
                                                    <Setter Property="BackgroundColor" Value="#C0C0C0" />
                                                </VisualState.Setters>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateGroupList>
                                </VisualStateManager.VisualStateGroups>

                            </Button>

                            <!-- ===== æŒ‰éˆ• 3 ===== -->
                            <Button x:Name="HintBtn3"
                                    Text="é£²é£Ÿæ³¨æ„äº‹é …"
                                    Clicked="OnHintClicked"
                                    BackgroundColor="#A18276"
                                    TextColor="White">

                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroupList>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal">
                                                <VisualState.Setters>
                                                    <Setter Property="Opacity" Value="1" />
                                                    <Setter Property="BackgroundColor" Value="#A18276" />
                                                </VisualState.Setters>
                                            </VisualState>

                                            <VisualState x:Name="Disabled">
                                                <VisualState.Setters>
                                                    <Setter Property="Opacity" Value="0.4" />
                                                    <Setter Property="BackgroundColor" Value="#C0C0C0" />
                                                </VisualState.Setters>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateGroupList>
                                </VisualStateManager.VisualStateGroups>

                            </Button>

                            <!-- ===== æŒ‰éˆ• 4 ===== -->
                            <Button x:Name="HintBtn4"
                                    Text="è„«æ°´é‡å¤ªå°‘æ€Žéº¼è¾¦"
                                    Clicked="OnHintClicked"
                                    BackgroundColor="#A18276"
                                    TextColor="White">

                                <VisualStateManager.VisualStateGroups>
                                    <VisualStateGroupList>
                                        <VisualStateGroup x:Name="CommonStates">
                                            <VisualState x:Name="Normal">
                                                <VisualState.Setters>
                                                    <Setter Property="Opacity" Value="1" />
                                                    <Setter Property="BackgroundColor" Value="#A18276" />
                                                </VisualState.Setters>
                                            </VisualState>

                                            <VisualState x:Name="Disabled">
                                                <VisualState.Setters>
                                                    <Setter Property="Opacity" Value="0.4" />
                                                    <Setter Property="BackgroundColor" Value="#C0C0C0" />
                                                </VisualState.Setters>
                                            </VisualState>
                                        </VisualStateGroup>
                                    </VisualStateGroupList>
                                </VisualStateManager.VisualStateGroups>

                            </Button>

                        </HorizontalStackLayout>

                    </ScrollView>

                </Frame>

                <Label x:Name="LabelResult" />
                <Entry x:Name="UserInput"
                       Placeholder="è«‹è¼¸å…¥å•é¡Œ..."
                       Completed="OnSendClicked">

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroupList>
                            <VisualStateGroup x:Name="CommonStates">

                                <VisualState x:Name="Normal">
                                    <VisualState.Setters>
                                        <Setter Property="Opacity" Value="1" />
                                        <Setter Property="BackgroundColor" Value="White" />
                                        <Setter Property="TextColor" Value="Black" />
                                    </VisualState.Setters>
                                </VisualState>

                                <VisualState x:Name="Disabled">
                                    <VisualState.Setters>
                                        <Setter Property="Opacity" Value="0.4" />
                                        <Setter Property="BackgroundColor" Value="#E0E0E0" />
                                        <Setter Property="TextColor" Value="#808080" />
                                    </VisualState.Setters>
                                </VisualState>

                            </VisualStateGroup>
                        </VisualStateGroupList>
                    </VisualStateManager.VisualStateGroups>

                </Entry>

                <Button x:Name="MicButton"
                        Text="ðŸŽ¤ èªžéŸ³è¼¸å…¥"
                        Clicked="OnMicButtonClicked"
                        BackgroundColor="#A18276"
                        TextColor="White">

                    <VisualStateManager.VisualStateGroups>
                        <VisualStateGroupList>
                            <VisualStateGroup x:Name="CommonStates">

                                <!-- æ­£å¸¸ç‹€æ…‹ -->
                                <VisualState x:Name="Normal">
                                    <VisualState.Setters>
                                        <Setter Property="Opacity" Value="1" />
                                        <Setter Property="BackgroundColor" Value="#A18276" />
                                    </VisualState.Setters>
                                </VisualState>

                                <!-- ç¦ç”¨ç‹€æ…‹ -->
                                <VisualState x:Name="Disabled">
                                    <VisualState.Setters>
                                        <Setter Property="Opacity" Value="0.4" />
                                        <Setter Property="BackgroundColor" Value="#C0C0C0" />
                                    </VisualState.Setters>
                                </VisualState>

                            </VisualStateGroup>
                        </VisualStateGroupList>
                    </VisualStateManager.VisualStateGroups>

                </Button>

                <!--<Button Text="é€å‡º" Clicked="OnSendClicked" />-->
                <Button Text="æŸ¥çœ‹å°è©±æ­·å²" Clicked="OnHistoryClicked" BackgroundColor="#A18276"/>
                <Button Text="è¿”å›ž" Clicked="ChooseClicked" BackgroundColor="#A18276"/>
                <WebView/>
            </VerticalStackLayout>
        </ScrollView>

        <!-- æ‡¸æµ®å·¢ç‹€é¸å–® -->
        <Frame x:Name="NestedMenu"
               IsVisible="False"
               CornerRadius="10"
               BorderColor="Transparent"
               BackgroundColor="Transparent"
               AbsoluteLayout.LayoutBounds="1,0,200,AutoSize"
               AbsoluteLayout.LayoutFlags="PositionProportional"
               ZIndex="10"
               HasShadow="True"
               Padding="0">

            <VerticalStackLayout Spacing="0" Padding="0">
                <!-- ç¬¬ 1 å±¤ -->
                <Button Text="è‡ªæˆ‘ç…§è­·èˆ‡æ—¥å¸¸ç®¡ç† â–¼" Clicked="button1Clicked"
                        BackgroundColor="#2C3E50" TextColor="White" FontSize="18" FontAttributes="Bold" CornerRadius="6" Margin="0"/>
                <StackLayout x:Name="button1" IsVisible="False">
                    <Button Text="è¡›ç”Ÿèˆ‡æ„ŸæŸ“é é˜²" Clicked="button1_1Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button1_1" IsVisible="False">
                        <Button Text="1. æ‰‹éƒ¨è¡›ç”Ÿ"  Clicked="button1_1_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. æ“ä½œç’°å¢ƒ"  Clicked="button1_1_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="3. å€‹äººé˜²è­·"  Clicked="button1_1_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="4. é€æžå™¨æç®¡ç†"  Clicked="button1_1_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="5. å°Žç®¡è­·ç†"  Clicked="button1_1_5Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="6. æ„ŸæŸ“å¾µå…†è­¦è¦º"  Clicked="button1_1_6Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="7. æ•™è‚²èˆ‡è¨“ç·´"  Clicked="button1_1_7Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    </StackLayout>

                    <Button Text="é€æžæ“ä½œæµç¨‹æ³¨æ„" Clicked="button1_2Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button1_2" IsVisible="False">
                        <Button Text="æ“ä½œå‰æº–å‚™"  Clicked="button1_2_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="é€æžæ“ä½œæµç¨‹"  Clicked="button1_2_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="æ“ä½œå¾Œæ³¨æ„äº‹é …"  Clicked="button1_2_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="å¸¸è¦‹å•é¡Œèˆ‡è™•ç†"  Clicked="button1_2_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>

                    <Button Text="é£²é£Ÿèˆ‡æ°´åˆ†æŽ§åˆ¶" Clicked="button1_3Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button1_3" IsVisible="False">
                        <Button Text="1. éˆ‰ï¼ˆé¹½åˆ†ï¼‰æ”å–æŽ§åˆ¶"  Clicked="button1_3_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. è›‹ç™½è³ªæ”å–"  Clicked="button1_3_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="3. é‰€èˆ‡ç£·çš„æ”å–"  Clicked="button1_3_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="4. ç³–é¡žèˆ‡è„‚è‚ªçš„æ”å–"  Clicked="button1_3_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="5. æ¯æ—¥é£²æ°´é‡è¨ˆç®—"  Clicked="button1_3_5Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="6. æŽ§åˆ¶é«”é‡å¢žåŠ "  Clicked="button1_3_6Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="7. æ¸›å°‘å£æ¸´çš„æ–¹æ³•"  Clicked="button1_3_7Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="8. æ³¨æ„å«æ°´é£Ÿç‰©çš„æ”å–"  Clicked="button1_3_8Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    </StackLayout>

                    <Button Text="ç”Ÿæ´»ç¿’æ…£èˆ‡æ—¥å¸¸å»ºè­°" Clicked="button1_4Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button1_4" IsVisible="False">
                        <Button Text="èº«é«”ç‹€æ³è¿½è¹¤"  Clicked="button1_4_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="å¿ƒç†ç‹€æ³è¿½è¹¤"  Clicked="button1_4_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>

                    <Button Text="è—¥ç‰©ä½¿ç”¨èˆ‡ç®¡ç†" Clicked="button1_5Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button1_5" IsVisible="False">
                        <Button Text="1. è—¥ç‰©ä½¿ç”¨åŽŸå‰‡"  Clicked="button1_5_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. å¸¸è¦‹è—¥ç‰©é¡žåž‹èˆ‡æ³¨æ„äº‹é …"  Clicked="button1_5_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="3. è—¥ç‰©ç®¡ç†å»ºè­°"  Clicked="button1_5_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="4. è—¥ç‰©èˆ‡é€æžçš„é—œä¿‚"  Clicked="button1_5_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>

                </StackLayout>

                <Button Text="å¥åº·ç›£æ¸¬èˆ‡è¿½è¹¤ â–¼" Clicked="button2Clicked"
                        BackgroundColor="#2C3E50" TextColor="White" FontSize="18" FontAttributes="Bold" CornerRadius="6" Margin="0"/>
                <StackLayout x:Name="button2" IsVisible="False">
                    <Button Text="èº«é«”èˆ‡å¿ƒç†ç‹€æ³è¿½è¹¤" Clicked="button2_1Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button2_1" IsVisible="False">
                        <Button Text="1. èº«é«”ç‹€æ³è¿½è¹¤"  Clicked="button2_1_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. å¿ƒç†ç‹€æ³è¿½è¹¤"  Clicked="button2_1_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>

                    <Button Text="å®šæœŸè¿½è¹¤èˆ‡é†«ç™‚åˆä½œ" Clicked="button2_2Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button2_2" IsVisible="False">
                        <Button Text="1. å®šæœŸå›žè¨ºèˆ‡æª¢æŸ¥"  Clicked="button2_2_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. èˆ‡é†«ç™‚åœ˜éšŠçš„åˆä½œ"  Clicked="button2_2_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="3. å¥åº·æ•¸æ“šçš„ç´€éŒ„èˆ‡ç®¡ç†"  Clicked="button2_2_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="4. æ•™è‚²è¨“ç·´èˆ‡è‡ªæˆ‘ç…§è­·"  Clicked="button2_2_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>

                    <Button Text="è‡ªæˆ‘å­¸ç¿’èˆ‡å¥åº·è­˜èƒ½æå‡" Clicked="button2_3Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button2_3" IsVisible="False">
                        <Button Text="1. å¤šå…ƒå­¸ç¿’ç®¡é“"  Clicked="button2_3_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. çŸ¥è­˜æ›´æ–°èˆ‡æŒçºŒå­¸ç¿’"  Clicked="button2_3_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="3. å¥åº·ç®¡ç†èˆ‡è‡ªæˆ‘ç›£æ¸¬"  Clicked="button2_3_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="4. æå‡ç”Ÿæ´»å“è³ªèˆ‡å¿ƒç†èª¿é©"  Clicked="button2_3_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>
                </StackLayout>

                <Button Text="å¿ƒç†èˆ‡ç¤¾æœƒæ”¯æŒ â–¼" Clicked="button3Clicked"
                        BackgroundColor="#2C3E50" TextColor="White" FontSize="18" FontAttributes="Bold" CornerRadius="6" Margin="0"/>
                <StackLayout x:Name="button3" IsVisible="False">
                    <Button Text="å¿ƒç†èª¿é©èˆ‡æ”¯æ´" Clicked="button3_1Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button3_1" IsVisible="False">
                        <Button Text="1. æƒ…ç·’è¦ºå¯Ÿèˆ‡è‡ªæˆ‘èª¿é©"  Clicked="button3_1_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. å®¶åº­èˆ‡ç¤¾æœƒæ”¯æŒç³»çµ±"  Clicked="button3_1_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="3. å°ˆæ¥­å¿ƒç†æ”¯æ´"  Clicked="button3_1_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="4. æå‡è‡ªæˆ‘ç…§è­·èƒ½åŠ›"  Clicked="button3_1_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>

                    <Button Text="ç¶“æ¿Ÿèˆ‡ç¤¾æœƒè³‡æºé‹ç”¨" Clicked="button3_2Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button3_2" IsVisible="False">
                        <Button Text="1. æ”¿åºœè£œåŠ©èˆ‡ä¿éšªè³‡æº"  Clicked="button3_2_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. ç¤¾æœƒç¦åˆ©èˆ‡è³‡æºé€£çµ"  Clicked="button3_2_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="3. å°±æ¥­èˆ‡ç”Ÿæ´»æ”¯æŒ"  Clicked="button3_2_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="4. è³‡æºç”³è«‹èˆ‡å”åŠ©"  Clicked="button3_2_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>

                    <Button Text="å®¶åº­ç…§è­·è€…æŒ‡å—" Clicked="button3_3Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button3_3" IsVisible="False">
                        <Button Text="1. è§’è‰²èˆ‡è²¬ä»»"  Clicked="button3_3_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. è…¹è†œé€æžæ“ä½œå”åŠ©"  Clicked="button3_3_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="3. å¥åº·ç›£æ¸¬èˆ‡ç´€éŒ„"  Clicked="button3_3_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="4. é£²é£Ÿèˆ‡è—¥ç‰©ç®¡ç†"  Clicked="button3_3_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="5. æƒ…ç·’æ”¯æŒèˆ‡å¿ƒç†èª¿é©"  Clicked="button3_3_5Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="6. ç·Šæ€¥æ‡‰è®Šèˆ‡ç½é›£å‚™æ¡ˆ"  Clicked="button3_3_6Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="7. è‡ªæˆ‘ç…§è­·èˆ‡å­¸ç¿’"  Clicked="button3_3_7Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>
                </StackLayout>

                <Button Text="ç·Šæ€¥æ‡‰è®Šèˆ‡äº’å‹•æ•™å­¸ â–¼" Clicked="button4Clicked"
                        BackgroundColor="#2C3E50" TextColor="White" FontSize="18" FontAttributes="Bold" CornerRadius="6" />
                <StackLayout x:Name="button4" IsVisible="False">
                    <Button Text="ç½é›£æ‡‰è®Šèˆ‡ç·Šæ€¥å‚™æ¡ˆ" Clicked="button4_1Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button4_1" IsVisible="False">
                        <Button Text="1. å»ºç«‹å€‹äººåŒ–çš„ç·Šæ€¥æ‡‰è®Šè¨ˆç•«"  Clicked="button4_1_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. æº–å‚™ç·Šæ€¥å‚™ç”¨ç‰©è³‡"  Clicked="button4_1_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="3. ç½é›£ç™¼ç”Ÿæ™‚çš„æ‡‰å°æŽªæ–½"  Clicked="button4_1_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="4. èˆ‡é†«ç™‚æ©Ÿæ§‹çš„è¯ç¹«"  Clicked="button4_1_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="5. æ•™è‚²èˆ‡è¨“ç·´"  Clicked="button4_1_5Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>
                </StackLayout>
                
                <!--<Button Text="è…¹è†œé€æžç›¸é—œå½±ç‰‡ â–¼" Clicked="button5Clicked"
                            BackgroundColor="#2C3E50" TextColor="White" FontSize="18" FontAttributes="Bold" CornerRadius="6" />
                <StackLayout x:Name="button5" IsVisible="False">
                    <Button Text="æ­£ç¢ºæ´—æ‰‹" Clicked="button5_1Clicked"
                            BackgroundColor="#BDC3C7" TextColor="Black" FontSize="16" CornerRadius="4"/>
                    <StackLayout x:Name="button5_1" IsVisible="False">
                        <Button Text="1. å»ºç«‹å€‹äººåŒ–çš„ç·Šæ€¥æ‡‰è®Šè¨ˆç•«"  Clicked="button5_1_1Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="2. æº–å‚™ç·Šæ€¥å‚™ç”¨ç‰©è³‡"  Clicked="button5_1_2Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="3. ç½é›£ç™¼ç”Ÿæ™‚çš„æ‡‰å°æŽªæ–½"  Clicked="button5_1_3Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="4. èˆ‡é†«ç™‚æ©Ÿæ§‹çš„è¯ç¹«"  Clicked="button5_1_4Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                        <Button Text="5. æ•™è‚²èˆ‡è¨“ç·´"  Clicked="button5_1_5Clicked"
                            BackgroundColor="White" TextColor="Black" FontSize="16" CornerRadius="4"/>

                    </StackLayout>
                </StackLayout>-->

                <Button Text="âŒ æ”¶åˆ" Clicked="OnMenuCloseClicked"
                        BackgroundColor="DarkRed" TextColor="White" FontAttributes="Bold" CornerRadius="6"/>
            </VerticalStackLayout>
        </Frame>

        <!-- å³ä¸Šè§’ä¸»æŒ‰éˆ• -->
        <Button x:Name="MenuToggleButton"
                Text="â˜°"
                WidthRequest="60"
                HeightRequest="60"
                BackgroundColor="LightGray"
                AbsoluteLayout.LayoutBounds="1,0,40,40"
                AbsoluteLayout.LayoutFlags="PositionProportional"
                Clicked="OnMenuToggleClicked"
                ZIndex="11"/>
    </AbsoluteLayout>
</ContentPage>
